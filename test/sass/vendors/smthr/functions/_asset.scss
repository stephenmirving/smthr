@use 'sass:meta';
@use 'sass:string';
@use '../variables' as *;

/// A simply asset file location builder.
///
/// @param {String} $type - Asset type, matching folder name
/// @param {String} $file - Asset file name, including extension
///
/// @return {String} A file location leading to the asset.
///
/// @access private
/// @group Utilities
/// @require {variable} $asset-base-path
@function _asset($type, $file) {
  $asset-path: if(
    meta.variable-exists('asset-base-path') or meta.global-variable-exists('asset-base-path', smth),
    $asset-base-path,
    'assets'
  );

  @return string.unquote($asset-path + '/' + $type + '/' + $file);
}

/// Image asset helper.
///
/// @access public
///
/// @param {String} $file - Asset file name, including extension
/// @return {String} A file location leading to the asset.
///
/// @group Utilities
/// @require {function} _asset
@function image($file) {
  @return _asset('img', $file);
}

/// Font asset helper.
///
/// @param {String} $file - Asset file name, including extension
/// @return {String} A file location leading to the asset.
///
/// @access public
/// @group Utilities
/// @require {function} _asset
@function font($file) {
  @return _asset('fonts', $file);
}
