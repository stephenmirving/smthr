@use 'sass:list';
@use './missing-dependencies';
@use './is-true';

/// Removes all false and null values from `$list`.
/// @access public
///
/// @param {List} $list - The list to purge.
/// @return {List} The purged list.
///
/// @require {function} is-true
/// @require {function} to-list
/// @alias clean-list
@function purge-list($list) {
  $missing: missing-dependencies('is-true', 'to-list');

  $result: ();

  @each $item in $list {
    @if is-true($item) {
      $result: list.append($result, $item, list.separator($list));
    }
  }

  @return to-list($result);
}

/// Removes all false and null values from `$list`.
/// @access public
///
/// @param {List} $list - The list to purge.
/// @return {List} The purged list.
///
/// @require {function} is-true
/// @require {function} to-list
/// @alias purge-list
@function clean-list($list) {
  $missing: missing-dependencies('is-true', 'to-list');

  $result: ();

  @each $item in $list {
    @if is-true($item) {
      $result: list.append($result, $item, list.separator($list));
    }
  }

  @return to-list($result);
}

/// Removes all false and null values from `$list`.
/// @access public
///
/// @param {List} $list - The list to purge.
/// @return {List} The purged list.
///
/// @require {function} is-true
/// @require {function} to-list
/// @alias purge-list
@function list-purge($list) {
  @return purge-list($list);
}
