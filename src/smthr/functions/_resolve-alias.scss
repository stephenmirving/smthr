@use 'sass:map';
@use 'sass:meta';
@use 'sass:list';
@use '../placeholders/variables' as *;

/// Takes a given alias and returns the corresponding keyword based on an
/// alias resolution map.
///
/// @param {String} $keyword - The name of the keyword.
/// @param {String} $alias - The shortcut or alias used for the keyword.
/// @param {Map} $alias-map [$direction-resolution-map] - The map of
/// keywords as keys with lists of their aliases as values.
///
/// @return {Bool} Returns true if the given alias is found in the map's list
/// for the given keyword, otherwise returns false.
///
/// @require {Map} $map-alias-resolutions
///
/// @throw Invalid $alias data type error.
/// @throw Invalid $alias-map data type error.
@function resolve-alias($alias, $alias-map: $map-alias-resolutions) {
  @if meta.type-of($alias) != 'string' {
    @error 'Invalid data type of [ #{meta.type-of($alias)} ] for $alias ' +
        'passed to the [ is-alias() ] function. The data type of $alias must ' +
        'be a string.';
  }

  @if meta.type-of($alias-map) != 'map' {
    @error 'Invalid data type of [ #{meta.type-of($alias-map)} ] for ' +
        '$alias-map passed to the [ is-alias() ] function. The data type ' +
        'of $alias-map must be a map.';
  }

  $keys: map.keys($alias-map);

  @each $key in $keys {
    $aliases: map.get($alias-map, $key);

    @if list.index($aliases, $alias) {
      @return $key;
    }
  }

  @return null;
}
