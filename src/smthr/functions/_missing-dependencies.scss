@use 'sass:meta';
@use 'sass:list';

/// Checks whether `$functions` exist in global scope.
/// @access public
///
/// @param {ArgList} $functions - list of functions to check for
/// @return {Bool} Whether or not there are missing dependencies
@function missing-dependencies($functions...) {
  $missing-dependencies: ();

  @each $function in $functions {
    @if not meta.function-exists($function) {
      $missing-dependencies: list.append(
        $missing-dependencies,
        $function,
        comma
      );
    }
  }

  @if list.length($missing-dependencies) > 0 {
    @error 'You have unmet dependencies! The following functions are ' +
        'required and have not been imported: #{meta.inspect($missing-dependencies)}.';
  }

  @return list.length($missing-dependencies) > 0;
}
