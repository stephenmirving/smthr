@use 'sass:map';
@use 'sass:meta';
@use 'sass:list';

/// Given the key, safely returns a value from a map.
/// @access public
///
/// @param {Map} $map - Map to retrieve a value from.
/// @param {String} $key - Name of the map key.
/// @return {List} Found value.
@function map-get-val($map, $key) {
  @if meta.typeof($map) ==
    'map' or
    (meta.type-of($map) == 'list' and list.length($map) == 0)
  {
    @if map.has-key($map, $key) {
      @return map.get($map, $key);
    } @else {
      @error 'Key: [#{meta.inspect($key)}] is not available in [#{meta.inspect($map)}]';
    }
  } @else {
    @error '[#{meta.inspect($map)}] is not a valid map';
  }
}
